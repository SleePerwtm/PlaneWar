# 游戏玩法

玩家操控飞机移动，目标是操控飞机击落敌机，击落敌机获得分数。

如果飞机撞上敌机，血量减少。当血量减少为0，游戏结束。

飞机默认间隔一段时间发射一枚子弹。

程序会记录游戏时长。

# 需要实现的功能

- 游戏初始化：可用于游戏开始与重新开始时。
    - 创建游戏窗口
    - 初始化分数
    - 初始化游戏时间
    - 绘制角色

- 角色绘制

- 实体移动
    - 移动函数：飞机和子弹都可以使用
    - 键盘控制：控制己方飞机移动
    - 角色移动范围限制

- 角色发射子弹

- 碰撞检测
    - 角色与角色的碰撞
    - 角色与子弹的碰撞

- 计分系统
    - 击败敌方加分
    - 重开时分数清零
    - 时间系统

# 二维向量结构体 Vector2f

| 可见性 | 类型  | 名称 |
| ------ | ----- | ---- |
| public | float | x    |
| public | float | y    |

| 可见性 | 返回类型 | 方法名   |
| ------ | -------- | -------- |
| public |          | 构造函数 |

# 游戏类设计

- 管理类
    - 实体池类 EntityPool
        - 子弹池类 BulletPool
        - 敌机池类 EnemyPool
    - 实体管理类 EntityManager
        - 碰撞处理类 CollisionManager
    - 窗口类 Window
    - 统计信息类 Statistic
- 实体类 Entity
    - 飞机类 Plane
    - 子弹类 Bullet
    - 敌机类 Enemy

## 管理类

### 实体池类 EntityPool

#### 子弹池类 BulletPool

#### 敌机池类 EnemyPool

### 实体管理类 EntityManager

#### 碰撞处理类 CollisionManager

### 窗口类 Window

### 统计信息类 Statistic

| 可见性  | 类型 | 名称       |
| ------- | ---- | ---------- |
| private | int  | 分数 score |
| private | int  | 时间 time  |

## 实体类 Entity

| 可见性    | 类型     | 名称             |
| --------- | -------- | ---------------- |
| protected | Vector2f | 位置 position    |
| protected | Vector2f | 速度 velocity    |
| protected | int      | 半径 radius      |
| protected | int      | 血量 hp          |
| protected | bool     | 是否存活 isAlive |

| 可见性 | 返回类型     | 方法名                  |
| ------ | ------------ | ----------------------- |
| public | virtual void | 绘制 draw               |
| public | virtual void | 移动 move               |
| public | void         | 更新位置 updatePosition |
| public | void         | 设值函数                |
| public | T            | 取值函数                |

### 飞机类 MyPlane

| 可见性 | 类型 | 名称 |
| ------ | ---- | ---- |
|        |      |      |

| 可见性 | 返回类型      | 方法名         |
| ------ | ------------- | -------------- |
| public | void override | 绘制 draw      |
| public | void override | 移动 move      |
| public | void          | 发射子弹 shoot |

### 子弹类 Bullet

| 可见性  | 类型 | 名称                    |
| ------- | ---- | ----------------------- |
| private | bool | 是否为活跃子弹 isActive |

| 可见性 | 返回类型 | 方法名 |
| ------ | -------- | ------ |
| public | void     | 绘制   |
| public | void     | 移动   |

### 敌机类 Enemy

| 可见性 | 类型 | 名称 |
| ------ | ---- | ---- |
|        |      |      |

| 可见性 | 返回类型 | 方法名 |
| ------ | -------- | ------ |
| public | void     | 绘制   |
| public | void     | 移动   |
